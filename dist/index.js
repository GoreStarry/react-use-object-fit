"use strict";var t=require("react");function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,l=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){l=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}module.exports=function(r){var n=r.type,i=r.imgUrl,o=r.container,a=o.ref,l=o.dom,u=o.width,c=o.height,f=e(t.useState({width:0,height:0,ratio:0,offsetX:0,offsetY:0,imgWidth:0,imgHeight:0,containerWidth:0,containerHeight:0}),2),h=f[0],s=f[1];return t.useEffect((function(){var t=(null==a?void 0:a.current)||l;console.log(t);var e=u||(null==t?void 0:t.clientWidth),r=c||(null==t?void 0:t.clientHeight);console.log(e,r);var o=e/r;if(i){var f=document.createElement("img");f.addEventListener("load",(function(t){var i=t.target,a=i.naturalHeight,l=i.naturalWidth;console.log(l,a);var u,c,f=l/a,h=0,d=0;if("cover"===n)if(f>=o){var g=r/a;console.log(g),h=(e-(u=l*g))/2,c=r}else{u=e,d=(r-(c=a*(e/l)))/2}else if("contain"===n){if(f>=o)u=e,d=(r-(c=a*(e/l)))/2;else c=r,h=(e-(u=l*(r/a)))/2}s({width:u,height:c,ratio:f,offsetX:h,offsetY:d,imgWidth:l,imgHeight:a,containerWidth:e,containerHeight:r})})),f.src=i}}),[n,i,a,l,u,c]),h};
//# sourceMappingURL=index.js.map
