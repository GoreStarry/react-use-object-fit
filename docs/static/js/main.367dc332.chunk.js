(this["webpackJsonpreact-use-object-fit"]=this["webpackJsonpreact-use-object-fit"]||[]).push([[0],{15:function(e,t,i){"use strict";i.r(t);var n=i(1),c=i.n(n),r=i(7),a=i.n(r),o=i(4),s=i(2),d=function(e){var t=e.type,i=e.imgUrl,c=e.container,r=c.ref,a=c.dom,o=c.width,d=c.height,h=Object(n.useState)({width:0,height:0,offsetX:0,offsetY:0,imgWidth:0,imgHeight:0,imgRatio:0,containerWidth:0,containerHeight:0}),l=Object(s.a)(h,2),u=l[0],g=l[1],j=Object(n.useRef)(),m=Object(n.useRef)(),f=Object(n.useState)({width:0,height:0}),b=Object(s.a)(f,2),p=b[0],v=b[1],O=Object(n.useCallback)((function(){var e,i,n=(null===r||void 0===r?void 0:r.current)||a,c=o||(null===n||void 0===n?void 0:n.clientWidth),s=d||(null===n||void 0===n?void 0:n.clientHeight),h=c/s,l=p.width,u=p.height,j=l/u,m=0,f=0;if("cover"===t)j>=h?(m=(c-(e=l*(s/u)))/2,i=s):(e=c,f=(s-(i=u*(c/l)))/2);else if("contain"===t){if(j>=h)e=c,f=(s-(i=u*(c/l)))/2;else i=s,m=(c-(e=l*(s/u)))/2}g({width:e,height:i,imgRatio:j,offsetX:m,offsetY:f,imgWidth:l,imgHeight:u,containerWidth:c,containerHeight:s})}),[t,r,a,o,d,p]);return Object(n.useEffect)((function(){if(m.current){O();var e=(null===r||void 0===r?void 0:r.current)||a;return j.current&&window.removeEventListener("resize",j.current),window&&e&&window.addEventListener("resize",O),j.current=O,function(){window.removeEventListener("resize",j.current)}}}),[O]),Object(n.useEffect)((function(){if(i){m.current=!1;var e=document.createElement("img");e.addEventListener("load",(function(e){m.current=!0;var t=e.target,i=t.naturalWidth,n=t.naturalHeight;v({width:i,height:n})})),e.src=i}}),[i]),u},h=i(8),l=i.n(h),u=i(0);var g=function(e){var t,i=e.type,c=e.containerWidth,r=e.containerHeight,a=Object(n.useState)([]),h=Object(s.a)(a,2),g=h[0],j=h[1],m=Object(n.useRef)(),f=d({type:i,imgUrl:null===(t=g[0])||void 0===t?void 0:t.data_url,container:{width:c,height:r}}),b=f.width,p=f.height,v=f.ratio,O=f.offsetX,w=f.offsetY,x=f.imgWidth,y=f.imgHeight,H=f.containerWidth,R=f.containerHeight,W=Object(n.useCallback)((function(e,t){j(e)}),[]);return Object(u.jsxs)("div",{className:"App",style:{whiteSpace:"pre-wrap"},children:["object-fit width: ".concat(b,"\nobject-fit height: ").concat(p,"\nimage ratio: ").concat(v,"\noffsetX: ").concat(O,"\noffsetY: ").concat(w,"\norigin image width: ").concat(x," \norigin image height: ").concat(y,"\ncontainer width: ").concat(H,"\ncontainer height: ").concat(R),Object(u.jsx)(l.a,{value:g,onChange:W,maxNumber:69,dataURLKey:"data_url",acceptType:["jpg","jpeg","png","webp","heic"],children:function(e){var t=e.imageList,i=e.onImageUpload,n=(e.onImageRemoveAll,e.onImageUpdate),a=e.onImageRemove,s=e.isDragging,d=e.dragProps,h=e.errors;return Object(u.jsxs)("div",{className:"upload__image-wrapper",children:[Object(u.jsx)("button",Object(o.a)(Object(o.a)({style:s?{color:"red"}:null,onClick:i},d),{},{children:"Click or Drop here"})),h&&Object(u.jsxs)("div",{children:[h.maxNumber&&Object(u.jsx)("span",{children:"Number of selected images exceed maxNumber"}),h.acceptType&&Object(u.jsx)("span",{children:"Your selected file type is not allow"}),h.maxFileSize&&Object(u.jsx)("span",{children:"Selected file size exceed 3MB"}),h.resolution&&Object(u.jsx)("span",{children:"Selected file is not match your desired resolution"})]}),t.map((function(e,t){return Object(u.jsxs)("div",{className:"image-item",children:[Object(u.jsx)("label",{htmlFor:"",children:"Container\uff1a"}),Object(u.jsx)("div",{ref:m,style:{width:c,height:r,overflow:"hidden",border:"3px dashed green",margin:"1rem"},children:Object(u.jsx)("img",{src:e.data_url,style:{width:b,height:p,transform:"translate(".concat(O,"px, ").concat(w,"px)")}})}),Object(u.jsxs)("div",{className:"image-item__btn-wrapper",children:[Object(u.jsx)("button",{onClick:function(){return n(t)},children:"Update"}),Object(u.jsx)("button",{onClick:function(){return a(t)},children:"Remove"})]})]},t)}))]})}})]})};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.367dc332.chunk.js.map